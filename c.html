<!DOCTYPE html>
<html lang="ru">
<head>	
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>mediaDevices.enumerateDevices()</title>
<style>#container video{width: 38%;border: 1px white solid;}</style>
</head>
<body onload="main()" style="margin:0;">
<div id="container"></div>

<script type="text/javascript">
function main() {
    console.log("main()..."), navigator.mediaDevices.enumerateDevices().then(function(a) {
        var b = document.querySelector("#container");
        a.forEach(a => {
            /video/.test(a.kind) && (console.log("Video device found:", a), navigator.mediaDevices.getUserMedia({
                audio: {
                    deviceId: void 0
                },
                video: {
                    deviceId: {
                        exact: a.deviceId
                    }
                }
            }).then(a => {
                var c = document.createElement("video");
                c.autoplay = !0, c.muted = !0, c.playsInline = !0, b.append(c), c.srcObject = a
            }))
        })
    })
}
</script>
</body>
</html>
